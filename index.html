<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Catholic Prayer Companion</title>
  <style>
    body { background:#111; color:#f0f0f0; font-family:sans-serif; margin:0; padding:1em; }
    .modal-overlay { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.9); display:flex; align-items:center; justify-content:center; z-index:1000; }
    .modal-content { background:#222; padding:2em; border-radius:8px; width:90%; max-width:400px; text-align:center; }
    select, button { width:100%; margin-top:1em; padding:0.5em; font-size:1rem; }
    #prayerPage { display:none; margin-top:1em; }
    #switchSelect { width:100%; padding:0.5em; font-size:1rem; margin-bottom:1em; }
    .section-title { font-size:1.2em; font-weight:bold; margin-top:1.5em; }
    .prayer { display:flex; align-items:flex-start; margin:0.5em 0; white-space: pre-wrap; }
    .prayer input { margin-right:0.5em; margin-top:0.2em; }
  </style>
</head>
<body>
  <div id="modal" class="modal-overlay">
    <div class="modal-content">
      <h2>Select Prayer Type</h2>
      <select id="prayerSelect">
        <option value="rosary">Holy Rosary</option>
        <option value="divineMercy">Divine Mercy Chaplet</option>
        <option value="benedictChaplet">Saint Benedict Chaplet</option>
      </select>
      <button id="startBtn">Start Prayer</button>
    </div>
  </div>

  <div id="prayerPage">
    <select id="switchSelect">
      <option value="rosary">Holy Rosary</option>
      <option value="divineMercy">Divine Mercy Chaplet</option>
      <option value="benedictChaplet">Saint Benedict Chaplet</option>
    </select>
    <div id="content"></div>
  </div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const modal = document.getElementById('modal');
    const prayerPage = document.getElementById('prayerPage');
    const startBtn = document.getElementById('startBtn');
    const switchSelect = document.getElementById('switchSelect');
    const content = document.getElementById('content');

    modal.style.display = 'flex';

    function clear() { content.innerHTML = ''; }
    function appendSection(text) { const d = document.createElement('div'); d.className = 'section-title'; d.textContent = text; content.appendChild(d); }
    function appendInstruction(text) { const p = document.createElement('div'); p.className = 'prayer'; p.textContent = text; content.appendChild(p); }
    function appendPrayer(text) { const l = document.createElement('label'); l.className = 'prayer'; l.innerHTML = `<input type="checkbox"/> ${text}`; content.appendChild(l); }
    function getTodayMystery() { const day = new Date().toLocaleDateString('en-US',{weekday:'long'}); if(day==='Thursday')return'luminous'; if(day==='Tuesday'||day==='Friday')return'sorrowful'; if(day==='Wednesday'||day==='Sunday')return'glorious'; return'joyful'; }
    function capitalize(s) { return s.charAt(0).toUpperCase() + s.slice(1); }

    // Full prayers
    const fullCreed = `Apostles' Creed: I believe in God, the Father almighty, Creator of heaven and earth; and in Jesus Christ, His only Son, our Lord; who was conceived by the Holy Spirit, born of the Virgin Mary; suffered under Pontius Pilate; was crucified, died and was buried; He descended into hell; on the third day He rose again from the dead; He ascended into heaven and is seated at the right hand of God, the Father almighty; from there He will come to judge the living and the dead. Amen.`;
    const fullOurFather = `Our Father: Our Father, who art in heaven, hallowed be Thy name; Thy kingdom come; Thy will be done on earth as it is in heaven. Give us this day our daily bread; and forgive us our trespasses as we forgive those who trespass against us; and lead us not into temptation, but deliver us from evil. Amen.`;
    const fullHailMary = `Hail Mary: Hail Mary, full of grace, the Lord is with thee; blessed art thou among women; and blessed is the fruit of thy womb, Jesus. Holy Mary, Mother of God, pray for us sinners, now and at the hour of our death. Amen.`;
    const fullGloryBe = `Glory Be: Glory be to the Father, and to the Son, and to the Holy Spirit; as it was in the beginning, is now, and ever shall be, world without end. Amen.`;
    const fullFatima = `Fatima Prayer: O my Jesus, forgive us our sins; save us from the fires of hell; lead all souls to heaven, especially those most in need of Thy mercy. Amen.`;

    // Rosary data
    const rosaryData = {
      creed: fullCreed,
      ourFather: fullOurFather,
      hailFaith: `Hail Mary for Faith: ${fullHailMary.split(': ')[1]}`,
      hailHope: `Hail Mary for Hope: ${fullHailMary.split(': ')[1]}`,
      hailCharity: `Hail Mary for Charity: ${fullHailMary.split(': ')[1]}`,
      hail: fullHailMary,
      glory: fullGloryBe,
      fatima: fullFatima,
      hailHolyQueen: `Hail, holy Queen, Mother of mercy, our life, our sweetness, and our hope. To thee do we cry... Amen.`,
      finalPrayer: `Let us pray. O God... Amen.`,
      mysteries: {
        joyful: [
          {title:'The Annunciation',guidance:`Event: In Nazareth, the Angel Gabriel proclaims Mary as Mother of the Savior.\nDetails: See Gabriel's radiance...\nMeditation: Ask for openness.`},
          {title:'The Visitation',guidance:`Event: Mary visits Elizabeth...`,}
        ],
        sorrowful: [],
        glorious: [],
        luminous: []
      }
    };

    // Divine Mercy data
    const divineMerchy = {
      opening: [
        `Sign of the Cross: In the name of the Father... Amen.`,
        `You expired, Jesus... empty Yourself out upon us.`,
        `Eternal Father, I offer You the Body... of Jesus Christ.`
      ],
      creed: fullCreed,
      ourFather: fullOurFather,
      hailMary: fullHailMary,
      glory: fullGloryBe,
      decadeLarge: `Eternal Father, I offer You... of the whole world.`,
      decadeSmall: `For the sake of His sorrowful Passion... Amen.`,
      closing: [
        `Holy God, Holy Mighty One... world. (x3)`,
        `Eternal God, in whom mercy is endless... Amen.`
      ]
    };

    // Saint Benedict Chaplet data
    const benedict = {
      sign: `While holding the crucifix...`,
      creed: fullCreed,
      invocation: `Holy St. Benedict... voice of God. Amen.`,
      beadsTitle: `On the nine beads, pray:`,
      beads: [fullOurFather,fullOurFather,fullOurFather,fullHailMary,fullHailMary,fullHailMary,fullGloryBe,fullGloryBe,fullGloryBe],
      alternativeTitle: `Alternative method:`,
      alternative: `Say one Our Father, one Hail Mary, and one Glory Be, three times.`
    };

    function render(type) {
      clear();
      if(type==='rosary') renderRosary();
      if(type==='divineMercy') renderDivine();
      if(type==='benedictChaplet') renderBenedict();
    }

    function renderRosary() {
      appendPrayer(rosaryData.creed);
      appendPrayer(rosaryData.ourFather);
      appendSection('3 Hail Marys'); appendPrayer(rosaryData.hailFaith); appendPrayer(rosaryData.hailHope); appendPrayer(rosaryData.hailCharity);
      appendPrayer(rosaryData.glory); appendPrayer(rosaryData.fatima);
      const m=getTodayMystery(); appendSection(`Mysteries of the ${capitalize(m)}`);
      rosaryData.mysteries[m].forEach(mst=>{appendSection(mst.title);appendInstruction(mst.guidance);appendPrayer(rosaryData.ourFather);for(let i=0;i<10;i++)appendPrayer(rosaryData.hail);appendPrayer(rosaryData.glory);appendPrayer(rosaryData.fatima);});
      appendPrayer(rosaryData.hailHolyQueen);appendPrayer(rosaryData.finalPrayer);
    }

    function renderDivine() {
      divineMerchy.opening.forEach(appendPrayer);
      appendPrayer(divineMerchy.creed);appendPrayer(divineMerchy.ourFather);appendPrayer(divineMerchy.hailMary);appendPrayer(divineMerchy.glory);
      for(let d=1;d<=5;d++){appendSection(`Decade ${d}`);appendPrayer(divineMerchy.decadeLarge);for(let i=0;i<10;i++)appendPrayer(divineMerchy.decadeSmall);}      
      divineMerchy.closing.forEach(appendPrayer);
    }

    function renderBenedict() {
      appendInstruction(benedict.sign);
      appendPrayer(benedict.creed);
      appendPrayer(benedict.invocation);
      appendSection(benedict.beadsTitle);
      benedict.beads.forEach(appendPrayer);
      appendSection(benedict.alternativeTitle);
      appendInstruction(benedict.alternative);
    }

    startBtn.addEventListener('click', ()=>{
      const t = document.getElementById('prayerSelect').value;
      modal.style.display = 'none';
      prayerPage.style.display = 'block';
      switchSelect.value = t;
      render(t);
    });
    switchSelect.addEventListener('change', ()=> render(switchSelect.value));
  });
</script>
</body>
</html>
