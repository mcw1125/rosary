<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Rosary Prayer</title>
  <style>
    body {
      background-color: #111;
      color: #f0f0f0;
      font-family: sans-serif;
      padding: 1em;
    }
    label.prayer, label.mystery {
      display: block;
      margin: 1em 0 0.5em;
      font-size: 1rem;
      line-height: 1.5;
    }
    label.mystery {
      font-size: 1.2rem;
      font-weight: bold;
    }
    .description {
      font-style: italic;
      margin-bottom: 1em;
    }
    select {
      margin-bottom: 1em;
      font-size: 1rem;
    }
    hr {
      border: 0;
      border-top: 1px solid #555;
      margin: 2em 0;
    }
    /* Modal styles */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }
    .modal-content {
      background-color: #222;
      color: #f0f0f0;
      padding: 1.5em;
      border-radius: 8px;
      max-width: 500px;
      text-align: left;
      position: relative;
    }
    .modal-close {
      position: absolute;
      top: 0.5em;
      right: 0.5em;
      cursor: pointer;
      font-size: 1.2em;
      background: transparent;
      border: none;
      color: #f0f0f0;
    }
  </style>
</head>
<body>
  <!-- Meditation guidance popup -->
  <div id="meditationModal" class="modal-overlay">
    <div class="modal-content">
      <button class="modal-close" id="closeModal">&times;</button>
      <h3>How to meditate on the Mysteries</h3>
      <p>As you pray each Hail Mary, focus on the Mystery, visualizing the scene and reflecting on its meaning. Let each bead draw you deeper:</p>
      <ul>
        <li><strong>Visualize:</strong> Imagine yourself present at the event, noticing details.</li>
        <li><strong>Reflect:</strong> Consider the emotions of Mary and Jesus, and what God reveals.</li>
        <li><strong>Apply:</strong> Ask how this Mystery speaks to your life today and what virtue it inspires.</li>
      </ul>
      <p>Pause briefly between each bead to breathe, absorb the mystery’s impact, and ask for the grace to live out its lesson.</p>
    </div>
  </div>

  <h2 id="header"></h2>
  <label for="mysterySelect">Select Mysteries:</label>
  <select id="mysterySelect">
    <option value="auto">Auto (based on day)</option>
    <option value="joyful">Joyful (Mon/Sat)</option>
    <option value="sorrowful">Sorrowful (Tue/Fri)</option>
    <option value="glorious">Glorious (Wed/Sun)</option>
    <option value="luminous">Luminous (Thu)</option>
  </select>
  <div id="app"></div>

  <script>
    const prayers = [
      { id: "creed", text: "I believe in God, the Father almighty, Creator of heaven and earth; and in Jesus Christ, his only Son our Lord; who was conceived by the Holy Spirit, born of the Virgin Mary; suffered under Pontius Pilate, was crucified, died and was buried; he descended into hell; on the third day he rose again from the dead; he ascended into heaven, and is seated at the right hand of God the Father almighty; from there he will come to judge the living and the dead. I believe in the Holy Spirit, the holy Catholic Church, the communion of saints, the forgiveness of sins, the resurrection of the body, and life everlasting. Amen." },
      { id: "our_father", text: "Our Father, who art in heaven, hallowed be thy name; thy kingdom come; thy will be done on earth as it is in heaven. Give us this day our daily bread; and forgive us our trespasses as we forgive those who trespass against us; and lead us not into temptation, but deliver us from evil. Amen." },
      { id: "hail_mary", text: "Hail Mary, full of grace, the Lord is with thee; blessed art thou among women, and blessed is the fruit of thy womb, Jesus. Holy Mary, Mother of God, pray for us sinners now and at the hour of our death. Amen." },
      { id: "glory_be", text: "Glory be to the Father, and to the Son, and to the Holy Spirit; as it was in the beginning, is now, and ever shall be, world without end. Amen." },
      { id: "fatima_prayer", text: "O my Jesus, forgive us our sins; save us from the fires of hell; lead all souls to heaven, especially those most in need of thy mercy. Amen." },
      { id: "hail_holy_queen", text: "Hail, holy Queen, Mother of mercy, our life, our sweetness, and our hope. To thee do we cry, poor banished children of Eve; to thee do we send up our sighs, mourning and weeping in this valley of tears. Turn then, most gracious advocate, thine eyes of mercy toward us; and after this our exile, show unto us the blessed fruit of thy womb, Jesus. O clement, O loving, O sweet Virgin Mary. Pray for us, O holy Mother of God, that we may be made worthy of the promises of Christ. Amen." },
      { id: "final_prayer", text: "Let us pray. O God, whose only-begotten Son, by his life, death, and resurrection, has purchased for us the rewards of eternal life; grant, we beseech thee, that meditating upon these mysteries of the Most Holy Rosary of the Blessed Virgin Mary, we may imitate what they contain and obtain what they promise, through the same Christ our Lord. Amen." },
      { id: "intro1", text: "3 Hail Marys: For Faith, Hope, and Charity." },
      { id: "intro2", text: "Glory Be (before 1st mystery)." }
    ];

    const mysteriesData = {
      joyful: [
        {
          title: "The Annunciation",
          guidance: "Reflect on Mary's humble acceptance of the angel’s message. Imagine the awe she felt at being chosen, and ask for grace to say 'yes' to God’s call in your own life. Consider areas where you resist God's plans and invite His will to transform your heart. Pause between each Hail Mary to absorb the mystery’s impact and ask for the grace to live out its lesson."
        },
        {
          title: "The Visitation",
          guidance: "Meditate on Mary’s loving service as she traveled to help Elizabeth. Picture her caring presence and compassionate heart. Pray for the ability to recognize and respond joyfully to the needs of others around you. Pause between each Hail Mary to absorb the mystery’s impact and ask for the grace to live out its lesson."
        },
        {
          title: "The Nativity",
          guidance: "Contemplate the simplicity and poverty of Christ’s birth in a stable. Feel the quiet peace of that night and how God entered our world in humility. Ask how you can welcome Jesus into the 'stable' of your daily routine, stripping away distractions. Pause between each Hail Mary to absorb the mystery’s impact and ask for the grace to live out its lesson."
        },
        {
          title: "The Presentation",
          guidance: "Reflect on Mary and Joseph presenting Jesus in the Temple. Hear Simeon’s prophecy of light and salvation. Offer your own family, work, and gifts back to God, trusting His plans for the future. Pause between each Hail Mary to absorb the mystery’s impact and ask for the grace to live out its lesson."
        },
        {
          title: "Finding in the Temple",
          guidance: "Imagine the anxiety of Mary and Joseph searching for the twelve-year-old Jesus. Marvel at His awareness of His Father’s house. Ask for the grace to always seek Christ first, even when He seems hidden. Pause between each Hail Mary to absorb the mystery’s impact and ask for the grace to live out its lesson."
        }
      ],
      sorrowful: [
        {
          title: "The Agony in the Garden",
          guidance: "Enter with Jesus into Gethsemane, feeling His sorrow and dread. Reflect on His prayerful surrender: 'Not my will, but Yours be done.' Offer your own fears and burdens to the Father in trust. Pause between each Hail Mary to absorb the mystery’s impact and ask for the grace to live out its lesson."
        },
        {
          title: "The Scourging at the Pillar",
          guidance: "Ponder the physical torture Christ endured for our healing. Contemplate each lash as a sign of His boundless love. Unite your own sufferings—great or small—with His to bring healing and mercy to the world. Pause between each Hail Mary to absorb the mystery’s impact and ask for the grace to live out its lesson."
        },
        {
          title: "The Crowning with Thorns",
          guidance: "See Jesus mocked as He wears a crown of pain. Think of the insults you have borne for your faith or convictions. Pray for the strength to bear reproach and to crown Christ your true King in every aspect of your life. Pause between each Hail Mary to absorb the mystery’s impact and ask for the grace to live out its lesson."
        },
        {
          title: "The Carrying of the Cross",
          guidance: "Walk alongside Jesus as He carries the weight of the cross. Feel the exhaustion and compassion in His heart. Offer your daily crosses—work, relationships, worries—in union with His, asking for perseverance. Pause between each Hail Mary to absorb the mystery’s impact and ask for the grace to live out its lesson."
        },
        {
          title: "The Crucifixion",
          guidance: "Stand at the foot of the Cross, gazing on Christ’s final breath. Absorb the depth of His love that never fails. Lay your sins and regrets at His feet and receive His forgiveness and grace. Pause between each Hail Mary to absorb the mystery’s impact and ask for the grace to live out its lesson."
        }
      ],
      glorious: [
        {
          title: "The Resurrection",
          guidance: "Rejoice in Jesus’ victory over death and sin. Reflect on how His resurrection brings hope to your darkest moments. Ask for a renewal of faith in Christ’s power to transform your life. Pause between each Hail Mary to absorb the mystery’s impact and ask for the grace to live out its lesson."
        },
        {
          title: "The Ascension",
          guidance: "Contemplate Christ ascending to the Father’s right hand while promising the Holy Spirit. Trust that He prepares a place for you. Pray for an awareness of His constant presence and intercession. Pause between each Hail Mary to absorb the mystery’s impact and ask for the grace to live out its lesson."
        },
        {
          title: "Descent of the Holy Spirit",
          guidance: "Picture the apostles gathered in prayer when tongues of fire appeared. Invite that same Spirit into your heart to kindle courage, wisdom, and zeal. Ask for gifts of the Spirit to live boldly for Christ. Pause between each Hail Mary to absorb the mystery’s impact and ask for the grace to live out its lesson."
        },
        {
          title: "The Assumption",
          guidance: "Ponder Mary’s being taken body and soul into heavenly glory. Celebrate the destiny awaiting all who remain faithful. Pray for purity of heart that you may one day share in her triumph. Pause between each Hail Mary to absorb the mystery’s impact and ask for the grace to live out its lesson."
        },
        {
          title: "The Coronation of Mary",
          guidance: "Honor Mary as Queen of Heaven and Earth. Reflect on her loving queenship and motherly care. Ask her to intercede for you, guiding you closer to her Son’s heart. Pause between each Hail Mary to absorb the mystery’s impact and ask for the grace to live out its lesson."
        }
      ],
      luminous: [
        {
          title: "Baptism in the Jordan",
          guidance: "See Jesus identified with sinners as He is baptized by John. Hear the voice of the Father affirm Him as beloved Son. Reflect on your own baptismal promises and ask to live as God’s beloved child. Pause between each Hail Mary to absorb the mystery’s impact and ask for the grace to live out its lesson."
        },
        {
          title: "Wedding at Cana",
          guidance: "Recall Mary’s confident request for Jesus’ help and His first miracle. Trust in her intercession for your needs. Consider areas in your life where you need transformation and invite Christ to change the ordinary into the extraordinary. Pause between each Hail Mary to absorb the mystery’s impact and ask for the grace to live out its lesson."
        },
        {
          title: "Proclamation of the Kingdom",
          guidance: "Hear Christ’s call to repentance and belief in the Gospel. Reflect on the barriers you erect against God’s reign. Ask for a heart open to the Kingdom values of mercy, justice, and love. Pause between each Hail Mary to absorb the mystery’s impact and ask for the grace to live out its lesson."
        },
        {
          title: "The Transfiguration",
          guidance: "Behold Jesus shining in divine glory with Moses and Elijah. Allow that vision to strengthen you for times of trial. Pray for ears to hear God’s voice and eyes to see His light in the shadows. Pause between each Hail Mary to absorb the mystery’s impact and ask for the grace to live out its lesson."
        },
        {
          title: "Institution of the Eucharist",
          guidance: "Contemplate Jesus offering His Body and Blood at the Last Supper. Acknowledge the gift of the Eucharist as the source of true nourishment. Ask for deeper reverence and an ever-greater hunger for Divine Communion. Pause between each Hail Mary to absorb the mystery’s impact and ask for the grace to live out its lesson."
        }
      ]
    };

    function getTodayMysteryKey() {
      const day = new Date().toLocaleDateString('en-US', { weekday: 'long' });
      return (
        day === 'Thursday' ? 'luminous' :
        day === 'Tuesday' || day === 'Friday' ? 'sorrowful' :
        day === 'Wednesday' || day === 'Sunday' ? 'glorious' :
        'joyful'
      );
    }

    function renderRosary(selectedKey) {
      const day = new Date().toLocaleDateString('en-US',{weekday:'long'});
      const mysteryKey = selectedKey === 'auto' ? getTodayMysteryKey() : selectedKey;
      document.getElementById('header').textContent =
        `Today is ${day} — ${mysteryKey.charAt(0).toUpperCase()+mysteryKey.slice(1)} Mysteries`;

      const app = document.getElementById('app');
      app.innerHTML = '';

      // Opening prayers
      [prayers[0], prayers[1], prayers[7], prayers[8]].forEach(p => {
        const L = document.createElement('label');
        L.className = 'prayer';
        L.innerHTML = `<input type="checkbox"/> ${p.text}`;
        app.appendChild(L);
      });

      // Five mysteries
      mysteriesData[mysteryKey].forEach((m,i) => {
        const M = document.createElement('label');
        M.className = 'mystery';
        M.innerHTML = `<input type="checkbox"/> ${m.title}`;
        app.appendChild(M);
        const D = document.createElement('div');
        D.className = 'description';
        D.textContent = m.guidance;
        app.appendChild(D);

        // Our Father
        const OF = document.createElement('label');
        OF.className = 'prayer';
        OF.innerHTML = `<input type="checkbox"/> ${prayers.find(p => p.id === 'our_father').text}`;
        app.appendChild(OF);

        // Ten Hail Marys
        for (let j = 0; j < 10; j++) {
          const HM = document.createElement('label');
          HM.className = 'prayer';
          HM.innerHTML = `<input type="checkbox"/> ${prayers.find(p => p.id === 'hail_mary').text}`;
          app.appendChild(HM);
        }

        // Glory Be & Fatima Prayer
        ['glory_be','fatima_prayer'].forEach(k => {
          const P = document.createElement('label');
          P.className = 'prayer';
          P.innerHTML = `<input type="checkbox"/> ${prayers.find(p => p.id === k).text}`;
          app.appendChild(P);
        });

        app.appendChild(document.createElement('hr'));
      });

      // Closing prayers
      [prayers[5], prayers[6]].forEach(p => {
        const L = document.createElement('label');
        L.className = 'prayer';
        L.innerHTML = `<input type="checkbox"/> ${p.text}`;
        app.appendChild(L);
      });
    }

    // Modal close handler
    document.getElementById('closeModal').addEventListener('click', () => {
      document.getElementById('meditationModal').style.display = 'none';
    });

    document.getElementById('mysterySelect').addEventListener('change', e => {
      renderRosary(e.target.value);
    });

    window.addEventListener('DOMContentLoaded', () => renderRosary('auto'));
  </script>
</body>
</html>
